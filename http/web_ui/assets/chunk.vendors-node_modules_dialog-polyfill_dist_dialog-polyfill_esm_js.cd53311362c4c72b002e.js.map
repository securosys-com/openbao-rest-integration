{"version":3,"file":"chunk.vendors-node_modules_dialog-polyfill_dist_dialog-polyfill_esm_js.cd53311362c4c72b002e.js","mappings":"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","sources":["webpack://__ember_auto_import__/./node_modules/dialog-polyfill/dist/dialog-polyfill.esm.js"],"sourcesContent":["// nb. This is for IE10 and lower _only_.\nvar supportCustomEvent = window.CustomEvent;\nif (!supportCustomEvent || typeof supportCustomEvent === 'object') {\n  supportCustomEvent = function CustomEvent(event, x) {\n    x = x || {};\n    var ev = document.createEvent('CustomEvent');\n    ev.initCustomEvent(event, !!x.bubbles, !!x.cancelable, x.detail || null);\n    return ev;\n  };\n  supportCustomEvent.prototype = window.Event.prototype;\n}\n\n/**\n * Dispatches the passed event to both an \"on<type>\" handler as well as via the\n * normal dispatch operation. Does not bubble.\n *\n * @param {!EventTarget} target\n * @param {!Event} event\n * @return {boolean}\n */\nfunction safeDispatchEvent(target, event) {\n  var check = 'on' + event.type.toLowerCase();\n  if (typeof target[check] === 'function') {\n    target[check](event);\n  }\n  return target.dispatchEvent(event);\n}\n\n/**\n * @param {Element} el to check for stacking context\n * @return {boolean} whether this el or its parents creates a stacking context\n */\nfunction createsStackingContext(el) {\n  while (el && el !== document.body) {\n    var s = window.getComputedStyle(el);\n    var invalid = function(k, ok) {\n      return !(s[k] === undefined || s[k] === ok);\n    };\n\n    if (s.opacity < 1 ||\n        invalid('zIndex', 'auto') ||\n        invalid('transform', 'none') ||\n        invalid('mixBlendMode', 'normal') ||\n        invalid('filter', 'none') ||\n        invalid('perspective', 'none') ||\n        s['isolation'] === 'isolate' ||\n        s.position === 'fixed' ||\n        s.webkitOverflowScrolling === 'touch') {\n      return true;\n    }\n    el = el.parentElement;\n  }\n  return false;\n}\n\n/**\n * Finds the nearest <dialog> from the passed element.\n *\n * @param {Element} el to search from\n * @return {HTMLDialogElement} dialog found\n */\nfunction findNearestDialog(el) {\n  while (el) {\n    if (el.localName === 'dialog') {\n      return /** @type {HTMLDialogElement} */ (el);\n    }\n    if (el.parentElement) {\n      el = el.parentElement;\n    } else if (el.parentNode) {\n      el = el.parentNode.host;\n    } else {\n      el = null;\n    }\n  }\n  return null;\n}\n\n/**\n * Blur the specified element, as long as it's not the HTML body element.\n * This works around an IE9/10 bug - blurring the body causes Windows to\n * blur the whole application.\n *\n * @param {Element} el to blur\n */\nfunction safeBlur(el) {\n  // Find the actual focused element when the active element is inside a shadow root\n  while (el && el.shadowRoot && el.shadowRoot.activeElement) {\n    el = el.shadowRoot.activeElement;\n  }\n\n  if (el && el.blur && el !== document.body) {\n    el.blur();\n  }\n}\n\n/**\n * @param {!NodeList} nodeList to search\n * @param {Node} node to find\n * @return {boolean} whether node is inside nodeList\n */\nfunction inNodeList(nodeList, node) {\n  for (var i = 0; i < nodeList.length; ++i) {\n    if (nodeList[i] === node) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * @param {HTMLFormElement} el to check\n * @return {boolean} whether this form has method=\"dialog\"\n */\nfunction isFormMethodDialog(el) {\n  if (!el || !el.hasAttribute('method')) {\n    return false;\n  }\n  return el.getAttribute('method').toLowerCase() === 'dialog';\n}\n\n/**\n * @param {!DocumentFragment|!Element} hostElement\n * @return {?Element}\n */\nfunction findFocusableElementWithin(hostElement) {\n  // Note that this is 'any focusable area'. This list is probably not exhaustive, but the\n  // alternative involves stepping through and trying to focus everything.\n  var opts = ['button', 'input', 'keygen', 'select', 'textarea'];\n  var query = opts.map(function(el) {\n    return el + ':not([disabled])';\n  });\n  // TODO(samthor): tabindex values that are not numeric are not focusable.\n  query.push('[tabindex]:not([disabled]):not([tabindex=\"\"])');  // tabindex != \"\", not disabled\n  var target = hostElement.querySelector(query.join(', '));\n\n  if (!target && 'attachShadow' in Element.prototype) {\n    // If we haven't found a focusable target, see if the host element contains an element\n    // which has a shadowRoot.\n    // Recursively search for the first focusable item in shadow roots.\n    var elems = hostElement.querySelectorAll('*');\n    for (var i = 0; i < elems.length; i++) {\n      if (elems[i].tagName && elems[i].shadowRoot) {\n        target = findFocusableElementWithin(elems[i].shadowRoot);\n        if (target) {\n          break;\n        }\n      }\n    }\n  }\n  return target;\n}\n\n/**\n * Determines if an element is attached to the DOM.\n * @param {Element} element to check\n * @return {boolean} whether the element is in DOM\n */\nfunction isConnected(element) {\n  return element.isConnected || document.body.contains(element);\n}\n\n/**\n * @param {!Event} event\n * @return {?Element}\n */\nfunction findFormSubmitter(event) {\n  if (event.submitter) {\n    return event.submitter;\n  }\n\n  var form = event.target;\n  if (!(form instanceof HTMLFormElement)) {\n    return null;\n  }\n\n  var submitter = dialogPolyfill.formSubmitter;\n  if (!submitter) {\n    var target = event.target;\n    var root = ('getRootNode' in target && target.getRootNode() || document);\n    submitter = root.activeElement;\n  }\n\n  if (!submitter || submitter.form !== form) {\n    return null;\n  }\n  return submitter;\n}\n\n/**\n * @param {!Event} event\n */\nfunction maybeHandleSubmit(event) {\n  if (event.defaultPrevented) {\n    return;\n  }\n  var form = /** @type {!HTMLFormElement} */ (event.target);\n\n  // We'd have a value if we clicked on an imagemap.\n  var value = dialogPolyfill.imagemapUseValue;\n  var submitter = findFormSubmitter(event);\n  if (value === null && submitter) {\n    value = submitter.value;\n  }\n\n  // There should always be a dialog as this handler is added specifically on them, but check just\n  // in case.\n  var dialog = findNearestDialog(form);\n  if (!dialog) {\n    return;\n  }\n\n  // Prefer formmethod on the button.\n  var formmethod = submitter && submitter.getAttribute('formmethod') || form.getAttribute('method');\n  if (formmethod !== 'dialog') {\n    return;\n  }\n  event.preventDefault();\n\n  if (value != null) {\n    // nb. we explicitly check against null/undefined\n    dialog.close(value);\n  } else {\n    dialog.close();\n  }\n}\n\n/**\n * @param {!HTMLDialogElement} dialog to upgrade\n * @constructor\n */\nfunction dialogPolyfillInfo(dialog) {\n  this.dialog_ = dialog;\n  this.replacedStyleTop_ = false;\n  this.openAsModal_ = false;\n\n  // Set a11y role. Browsers that support dialog implicitly know this already.\n  if (!dialog.hasAttribute('role')) {\n    dialog.setAttribute('role', 'dialog');\n  }\n\n  dialog.show = this.show.bind(this);\n  dialog.showModal = this.showModal.bind(this);\n  dialog.close = this.close.bind(this);\n\n  dialog.addEventListener('submit', maybeHandleSubmit, false);\n\n  if (!('returnValue' in dialog)) {\n    dialog.returnValue = '';\n  }\n\n  if ('MutationObserver' in window) {\n    var mo = new MutationObserver(this.maybeHideModal.bind(this));\n    mo.observe(dialog, {attributes: true, attributeFilter: ['open']});\n  } else {\n    // IE10 and below support. Note that DOMNodeRemoved etc fire _before_ removal. They also\n    // seem to fire even if the element was removed as part of a parent removal. Use the removed\n    // events to force downgrade (useful if removed/immediately added).\n    var removed = false;\n    var cb = function() {\n      removed ? this.downgradeModal() : this.maybeHideModal();\n      removed = false;\n    }.bind(this);\n    var timeout;\n    var delayModel = function(ev) {\n      if (ev.target !== dialog) { return; }  // not for a child element\n      var cand = 'DOMNodeRemoved';\n      removed |= (ev.type.substr(0, cand.length) === cand);\n      window.clearTimeout(timeout);\n      timeout = window.setTimeout(cb, 0);\n    };\n    ['DOMAttrModified', 'DOMNodeRemoved', 'DOMNodeRemovedFromDocument'].forEach(function(name) {\n      dialog.addEventListener(name, delayModel);\n    });\n  }\n  // Note that the DOM is observed inside DialogManager while any dialog\n  // is being displayed as a modal, to catch modal removal from the DOM.\n\n  Object.defineProperty(dialog, 'open', {\n    set: this.setOpen.bind(this),\n    get: dialog.hasAttribute.bind(dialog, 'open')\n  });\n\n  this.backdrop_ = document.createElement('div');\n  this.backdrop_.className = 'backdrop';\n  this.backdrop_.addEventListener('mouseup'  , this.backdropMouseEvent_.bind(this));\n  this.backdrop_.addEventListener('mousedown', this.backdropMouseEvent_.bind(this));\n  this.backdrop_.addEventListener('click'    , this.backdropMouseEvent_.bind(this));\n}\n\ndialogPolyfillInfo.prototype = /** @type {HTMLDialogElement.prototype} */ ({\n\n  get dialog() {\n    return this.dialog_;\n  },\n\n  /**\n   * Maybe remove this dialog from the modal top layer. This is called when\n   * a modal dialog may no longer be tenable, e.g., when the dialog is no\n   * longer open or is no longer part of the DOM.\n   */\n  maybeHideModal: function() {\n    if (this.dialog_.hasAttribute('open') && isConnected(this.dialog_)) { return; }\n    this.downgradeModal();\n  },\n\n  /**\n   * Remove this dialog from the modal top layer, leaving it as a non-modal.\n   */\n  downgradeModal: function() {\n    if (!this.openAsModal_) { return; }\n    this.openAsModal_ = false;\n    this.dialog_.style.zIndex = '';\n\n    // This won't match the native <dialog> exactly because if the user set top on a centered\n    // polyfill dialog, that top gets thrown away when the dialog is closed. Not sure it's\n    // possible to polyfill this perfectly.\n    if (this.replacedStyleTop_) {\n      this.dialog_.style.top = '';\n      this.replacedStyleTop_ = false;\n    }\n\n    // Clear the backdrop and remove from the manager.\n    this.backdrop_.parentNode && this.backdrop_.parentNode.removeChild(this.backdrop_);\n    dialogPolyfill.dm.removeDialog(this);\n  },\n\n  /**\n   * @param {boolean} value whether to open or close this dialog\n   */\n  setOpen: function(value) {\n    if (value) {\n      this.dialog_.hasAttribute('open') || this.dialog_.setAttribute('open', '');\n    } else {\n      this.dialog_.removeAttribute('open');\n      this.maybeHideModal();  // nb. redundant with MutationObserver\n    }\n  },\n\n  /**\n   * Handles mouse events ('mouseup', 'mousedown', 'click') on the fake .backdrop element, redirecting them as if\n   * they were on the dialog itself.\n   *\n   * @param {!Event} e to redirect\n   */\n  backdropMouseEvent_: function(e) {\n    if (!this.dialog_.hasAttribute('tabindex')) {\n      // Clicking on the backdrop should move the implicit cursor, even if dialog cannot be\n      // focused. Create a fake thing to focus on. If the backdrop was _before_ the dialog, this\n      // would not be needed - clicks would move the implicit cursor there.\n      var fake = document.createElement('div');\n      this.dialog_.insertBefore(fake, this.dialog_.firstChild);\n      fake.tabIndex = -1;\n      fake.focus();\n      this.dialog_.removeChild(fake);\n    } else {\n      this.dialog_.focus();\n    }\n\n    var redirectedEvent = document.createEvent('MouseEvents');\n    redirectedEvent.initMouseEvent(e.type, e.bubbles, e.cancelable, window,\n        e.detail, e.screenX, e.screenY, e.clientX, e.clientY, e.ctrlKey,\n        e.altKey, e.shiftKey, e.metaKey, e.button, e.relatedTarget);\n    this.dialog_.dispatchEvent(redirectedEvent);\n    e.stopPropagation();\n  },\n\n  /**\n   * Focuses on the first focusable element within the dialog. This will always blur the current\n   * focus, even if nothing within the dialog is found.\n   */\n  focus_: function() {\n    // Find element with `autofocus` attribute, or fall back to the first form/tabindex control.\n    var target = this.dialog_.querySelector('[autofocus]:not([disabled])');\n    if (!target && this.dialog_.tabIndex >= 0) {\n      target = this.dialog_;\n    }\n    if (!target) {\n      target = findFocusableElementWithin(this.dialog_);\n    }\n    safeBlur(document.activeElement);\n    target && target.focus();\n  },\n\n  /**\n   * Sets the zIndex for the backdrop and dialog.\n   *\n   * @param {number} dialogZ\n   * @param {number} backdropZ\n   */\n  updateZIndex: function(dialogZ, backdropZ) {\n    if (dialogZ < backdropZ) {\n      throw new Error('dialogZ should never be < backdropZ');\n    }\n    this.dialog_.style.zIndex = dialogZ;\n    this.backdrop_.style.zIndex = backdropZ;\n  },\n\n  /**\n   * Shows the dialog. If the dialog is already open, this does nothing.\n   */\n  show: function() {\n    if (!this.dialog_.open) {\n      this.setOpen(true);\n      this.focus_();\n    }\n  },\n\n  /**\n   * Show this dialog modally.\n   */\n  showModal: function() {\n    if (this.dialog_.hasAttribute('open')) {\n      throw new Error('Failed to execute \\'showModal\\' on dialog: The element is already open, and therefore cannot be opened modally.');\n    }\n    if (!isConnected(this.dialog_)) {\n      throw new Error('Failed to execute \\'showModal\\' on dialog: The element is not in a Document.');\n    }\n    if (!dialogPolyfill.dm.pushDialog(this)) {\n      throw new Error('Failed to execute \\'showModal\\' on dialog: There are too many open modal dialogs.');\n    }\n\n    if (createsStackingContext(this.dialog_.parentElement)) {\n      console.warn('A dialog is being shown inside a stacking context. ' +\n          'This may cause it to be unusable. For more information, see this link: ' +\n          'https://github.com/GoogleChrome/dialog-polyfill/#stacking-context');\n    }\n\n    this.setOpen(true);\n    this.openAsModal_ = true;\n\n    // Optionally center vertically, relative to the current viewport.\n    if (dialogPolyfill.needsCentering(this.dialog_)) {\n      dialogPolyfill.reposition(this.dialog_);\n      this.replacedStyleTop_ = true;\n    } else {\n      this.replacedStyleTop_ = false;\n    }\n\n    // Insert backdrop.\n    this.dialog_.parentNode.insertBefore(this.backdrop_, this.dialog_.nextSibling);\n\n    // Focus on whatever inside the dialog.\n    this.focus_();\n  },\n\n  /**\n   * Closes this HTMLDialogElement. This is optional vs clearing the open\n   * attribute, however this fires a 'close' event.\n   *\n   * @param {string=} opt_returnValue to use as the returnValue\n   */\n  close: function(opt_returnValue) {\n    if (!this.dialog_.hasAttribute('open')) {\n      throw new Error('Failed to execute \\'close\\' on dialog: The element does not have an \\'open\\' attribute, and therefore cannot be closed.');\n    }\n    this.setOpen(false);\n\n    // Leave returnValue untouched in case it was set directly on the element\n    if (opt_returnValue !== undefined) {\n      this.dialog_.returnValue = opt_returnValue;\n    }\n\n    // Triggering \"close\" event for any attached listeners on the <dialog>.\n    var closeEvent = new supportCustomEvent('close', {\n      bubbles: false,\n      cancelable: false\n    });\n    safeDispatchEvent(this.dialog_, closeEvent);\n  }\n\n});\n\nvar dialogPolyfill = {};\n\ndialogPolyfill.reposition = function(element) {\n  var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;\n  var topValue = scrollTop + (window.innerHeight - element.offsetHeight) / 2;\n  element.style.top = Math.max(scrollTop, topValue) + 'px';\n};\n\ndialogPolyfill.isInlinePositionSetByStylesheet = function(element) {\n  for (var i = 0; i < document.styleSheets.length; ++i) {\n    var styleSheet = document.styleSheets[i];\n    var cssRules = null;\n    // Some browsers throw on cssRules.\n    try {\n      cssRules = styleSheet.cssRules;\n    } catch (e) {}\n    if (!cssRules) { continue; }\n    for (var j = 0; j < cssRules.length; ++j) {\n      var rule = cssRules[j];\n      var selectedNodes = null;\n      // Ignore errors on invalid selector texts.\n      try {\n        selectedNodes = document.querySelectorAll(rule.selectorText);\n      } catch(e) {}\n      if (!selectedNodes || !inNodeList(selectedNodes, element)) {\n        continue;\n      }\n      var cssTop = rule.style.getPropertyValue('top');\n      var cssBottom = rule.style.getPropertyValue('bottom');\n      if ((cssTop && cssTop !== 'auto') || (cssBottom && cssBottom !== 'auto')) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\n\ndialogPolyfill.needsCentering = function(dialog) {\n  var computedStyle = window.getComputedStyle(dialog);\n  if (computedStyle.position !== 'absolute') {\n    return false;\n  }\n\n  // We must determine whether the top/bottom specified value is non-auto.  In\n  // WebKit/Blink, checking computedStyle.top == 'auto' is sufficient, but\n  // Firefox returns the used value. So we do this crazy thing instead: check\n  // the inline style and then go through CSS rules.\n  if ((dialog.style.top !== 'auto' && dialog.style.top !== '') ||\n      (dialog.style.bottom !== 'auto' && dialog.style.bottom !== '')) {\n    return false;\n  }\n  return !dialogPolyfill.isInlinePositionSetByStylesheet(dialog);\n};\n\n/**\n * @param {!Element} element to force upgrade\n */\ndialogPolyfill.forceRegisterDialog = function(element) {\n  if (window.HTMLDialogElement || element.showModal) {\n    console.warn('This browser already supports <dialog>, the polyfill ' +\n        'may not work correctly', element);\n  }\n  if (element.localName !== 'dialog') {\n    throw new Error('Failed to register dialog: The element is not a dialog.');\n  }\n  new dialogPolyfillInfo(/** @type {!HTMLDialogElement} */ (element));\n};\n\n/**\n * @param {!Element} element to upgrade, if necessary\n */\ndialogPolyfill.registerDialog = function(element) {\n  if (!element.showModal) {\n    dialogPolyfill.forceRegisterDialog(element);\n  }\n};\n\n/**\n * @constructor\n */\ndialogPolyfill.DialogManager = function() {\n  /** @type {!Array<!dialogPolyfillInfo>} */\n  this.pendingDialogStack = [];\n\n  var checkDOM = this.checkDOM_.bind(this);\n\n  // The overlay is used to simulate how a modal dialog blocks the document.\n  // The blocking dialog is positioned on top of the overlay, and the rest of\n  // the dialogs on the pending dialog stack are positioned below it. In the\n  // actual implementation, the modal dialog stacking is controlled by the\n  // top layer, where z-index has no effect.\n  this.overlay = document.createElement('div');\n  this.overlay.className = '_dialog_overlay';\n  this.overlay.addEventListener('click', function(e) {\n    this.forwardTab_ = undefined;\n    e.stopPropagation();\n    checkDOM([]);  // sanity-check DOM\n  }.bind(this));\n\n  this.handleKey_ = this.handleKey_.bind(this);\n  this.handleFocus_ = this.handleFocus_.bind(this);\n\n  this.zIndexLow_ = 100000;\n  this.zIndexHigh_ = 100000 + 150;\n\n  this.forwardTab_ = undefined;\n\n  if ('MutationObserver' in window) {\n    this.mo_ = new MutationObserver(function(records) {\n      var removed = [];\n      records.forEach(function(rec) {\n        for (var i = 0, c; c = rec.removedNodes[i]; ++i) {\n          if (!(c instanceof Element)) {\n            continue;\n          } else if (c.localName === 'dialog') {\n            removed.push(c);\n          }\n          removed = removed.concat(c.querySelectorAll('dialog'));\n        }\n      });\n      removed.length && checkDOM(removed);\n    });\n  }\n};\n\n/**\n * Called on the first modal dialog being shown. Adds the overlay and related\n * handlers.\n */\ndialogPolyfill.DialogManager.prototype.blockDocument = function() {\n  document.documentElement.addEventListener('focus', this.handleFocus_, true);\n  document.addEventListener('keydown', this.handleKey_);\n  this.mo_ && this.mo_.observe(document, {childList: true, subtree: true});\n};\n\n/**\n * Called on the first modal dialog being removed, i.e., when no more modal\n * dialogs are visible.\n */\ndialogPolyfill.DialogManager.prototype.unblockDocument = function() {\n  document.documentElement.removeEventListener('focus', this.handleFocus_, true);\n  document.removeEventListener('keydown', this.handleKey_);\n  this.mo_ && this.mo_.disconnect();\n};\n\n/**\n * Updates the stacking of all known dialogs.\n */\ndialogPolyfill.DialogManager.prototype.updateStacking = function() {\n  var zIndex = this.zIndexHigh_;\n\n  for (var i = 0, dpi; dpi = this.pendingDialogStack[i]; ++i) {\n    dpi.updateZIndex(--zIndex, --zIndex);\n    if (i === 0) {\n      this.overlay.style.zIndex = --zIndex;\n    }\n  }\n\n  // Make the overlay a sibling of the dialog itself.\n  var last = this.pendingDialogStack[0];\n  if (last) {\n    var p = last.dialog.parentNode || document.body;\n    p.appendChild(this.overlay);\n  } else if (this.overlay.parentNode) {\n    this.overlay.parentNode.removeChild(this.overlay);\n  }\n};\n\n/**\n * @param {Element} candidate to check if contained or is the top-most modal dialog\n * @return {boolean} whether candidate is contained in top dialog\n */\ndialogPolyfill.DialogManager.prototype.containedByTopDialog_ = function(candidate) {\n  while (candidate = findNearestDialog(candidate)) {\n    for (var i = 0, dpi; dpi = this.pendingDialogStack[i]; ++i) {\n      if (dpi.dialog === candidate) {\n        return i === 0;  // only valid if top-most\n      }\n    }\n    candidate = candidate.parentElement;\n  }\n  return false;\n};\n\ndialogPolyfill.DialogManager.prototype.handleFocus_ = function(event) {\n  var target = event.composedPath ? event.composedPath()[0] : event.target;\n\n  if (this.containedByTopDialog_(target)) { return; }\n\n  if (document.activeElement === document.documentElement) { return; }\n\n  event.preventDefault();\n  event.stopPropagation();\n  safeBlur(/** @type {Element} */ (target));\n\n  if (this.forwardTab_ === undefined) { return; }  // move focus only from a tab key\n\n  var dpi = this.pendingDialogStack[0];\n  var dialog = dpi.dialog;\n  var position = dialog.compareDocumentPosition(target);\n  if (position & Node.DOCUMENT_POSITION_PRECEDING) {\n    if (this.forwardTab_) {\n      // forward\n      dpi.focus_();\n    } else if (target !== document.documentElement) {\n      // backwards if we're not already focused on <html>\n      document.documentElement.focus();\n    }\n  }\n\n  return false;\n};\n\ndialogPolyfill.DialogManager.prototype.handleKey_ = function(event) {\n  this.forwardTab_ = undefined;\n  if (event.keyCode === 27) {\n    event.preventDefault();\n    event.stopPropagation();\n    var cancelEvent = new supportCustomEvent('cancel', {\n      bubbles: false,\n      cancelable: true\n    });\n    var dpi = this.pendingDialogStack[0];\n    if (dpi && safeDispatchEvent(dpi.dialog, cancelEvent)) {\n      dpi.dialog.close();\n    }\n  } else if (event.keyCode === 9) {\n    this.forwardTab_ = !event.shiftKey;\n  }\n};\n\n/**\n * Finds and downgrades any known modal dialogs that are no longer displayed. Dialogs that are\n * removed and immediately readded don't stay modal, they become normal.\n *\n * @param {!Array<!HTMLDialogElement>} removed that have definitely been removed\n */\ndialogPolyfill.DialogManager.prototype.checkDOM_ = function(removed) {\n  // This operates on a clone because it may cause it to change. Each change also calls\n  // updateStacking, which only actually needs to happen once. But who removes many modal dialogs\n  // at a time?!\n  var clone = this.pendingDialogStack.slice();\n  clone.forEach(function(dpi) {\n    if (removed.indexOf(dpi.dialog) !== -1) {\n      dpi.downgradeModal();\n    } else {\n      dpi.maybeHideModal();\n    }\n  });\n};\n\n/**\n * @param {!dialogPolyfillInfo} dpi\n * @return {boolean} whether the dialog was allowed\n */\ndialogPolyfill.DialogManager.prototype.pushDialog = function(dpi) {\n  var allowed = (this.zIndexHigh_ - this.zIndexLow_) / 2 - 1;\n  if (this.pendingDialogStack.length >= allowed) {\n    return false;\n  }\n  if (this.pendingDialogStack.unshift(dpi) === 1) {\n    this.blockDocument();\n  }\n  this.updateStacking();\n  return true;\n};\n\n/**\n * @param {!dialogPolyfillInfo} dpi\n */\ndialogPolyfill.DialogManager.prototype.removeDialog = function(dpi) {\n  var index = this.pendingDialogStack.indexOf(dpi);\n  if (index === -1) { return; }\n\n  this.pendingDialogStack.splice(index, 1);\n  if (this.pendingDialogStack.length === 0) {\n    this.unblockDocument();\n  }\n  this.updateStacking();\n};\n\ndialogPolyfill.dm = new dialogPolyfill.DialogManager();\ndialogPolyfill.formSubmitter = null;\ndialogPolyfill.imagemapUseValue = null;\n\n/**\n * Installs global handlers, such as click listers and native method overrides. These are needed\n * even if a no dialog is registered, as they deal with <form method=\"dialog\">.\n */\nif (window.HTMLDialogElement === undefined) {\n\n  /**\n   * If HTMLFormElement translates method=\"DIALOG\" into 'get', then replace the descriptor with\n   * one that returns the correct value.\n   */\n  var testForm = document.createElement('form');\n  testForm.setAttribute('method', 'dialog');\n  if (testForm.method !== 'dialog') {\n    var methodDescriptor = Object.getOwnPropertyDescriptor(HTMLFormElement.prototype, 'method');\n    if (methodDescriptor) {\n      // nb. Some older iOS and older PhantomJS fail to return the descriptor. Don't do anything\n      // and don't bother to update the element.\n      var realGet = methodDescriptor.get;\n      methodDescriptor.get = function() {\n        if (isFormMethodDialog(this)) {\n          return 'dialog';\n        }\n        return realGet.call(this);\n      };\n      var realSet = methodDescriptor.set;\n      /** @this {HTMLElement} */\n      methodDescriptor.set = function(v) {\n        if (typeof v === 'string' && v.toLowerCase() === 'dialog') {\n          return this.setAttribute('method', v);\n        }\n        return realSet.call(this, v);\n      };\n      Object.defineProperty(HTMLFormElement.prototype, 'method', methodDescriptor);\n    }\n  }\n\n  /**\n   * Global 'click' handler, to capture the <input type=\"submit\"> or <button> element which has\n   * submitted a <form method=\"dialog\">. Needed as Safari and others don't report this inside\n   * document.activeElement.\n   */\n  document.addEventListener('click', function(ev) {\n    dialogPolyfill.formSubmitter = null;\n    dialogPolyfill.imagemapUseValue = null;\n    if (ev.defaultPrevented) { return; }  // e.g. a submit which prevents default submission\n\n    var target = /** @type {Element} */ (ev.target);\n    if ('composedPath' in ev) {\n      var path = ev.composedPath();\n      target = path.shift() || target;\n    }\n    if (!target || !isFormMethodDialog(target.form)) { return; }\n\n    var valid = (target.type === 'submit' && ['button', 'input'].indexOf(target.localName) > -1);\n    if (!valid) {\n      if (!(target.localName === 'input' && target.type === 'image')) { return; }\n      // this is a <input type=\"image\">, which can submit forms\n      dialogPolyfill.imagemapUseValue = ev.offsetX + ',' + ev.offsetY;\n    }\n\n    var dialog = findNearestDialog(target);\n    if (!dialog) { return; }\n\n    dialogPolyfill.formSubmitter = target;\n\n  }, false);\n\n  /**\n   * Global 'submit' handler. This handles submits of `method=\"dialog\"` which are invalid, i.e.,\n   * outside a dialog. They get prevented.\n   */\n  document.addEventListener('submit', function(ev) {\n    var form = ev.target;\n    var dialog = findNearestDialog(form);\n    if (dialog) {\n      return;  // ignore, handle there\n    }\n\n    var submitter = findFormSubmitter(ev);\n    var formmethod = submitter && submitter.getAttribute('formmethod') || form.getAttribute('method');\n    if (formmethod === 'dialog') {\n      ev.preventDefault();\n    }\n  });\n\n  /**\n   * Replace the native HTMLFormElement.submit() method, as it won't fire the\n   * submit event and give us a chance to respond.\n   */\n  var nativeFormSubmit = HTMLFormElement.prototype.submit;\n  var replacementFormSubmit = function () {\n    if (!isFormMethodDialog(this)) {\n      return nativeFormSubmit.call(this);\n    }\n    var dialog = findNearestDialog(this);\n    dialog && dialog.close();\n  };\n  HTMLFormElement.prototype.submit = replacementFormSubmit;\n}\n\nexport default dialogPolyfill;\n"],"names":["supportCustomEvent","window","CustomEvent","event","x","ev","document","createEvent","initCustomEvent","bubbles","cancelable","detail","prototype","Event","safeDispatchEvent","target","check","type","toLowerCase","dispatchEvent","createsStackingContext","el","body","s","getComputedStyle","invalid","k","ok","undefined","opacity","position","webkitOverflowScrolling","parentElement","findNearestDialog","localName","parentNode","host","safeBlur","shadowRoot","activeElement","blur","inNodeList","nodeList","node","i","length","isFormMethodDialog","hasAttribute","getAttribute","findFocusableElementWithin","hostElement","opts","query","map","push","querySelector","join","Element","elems","querySelectorAll","tagName","isConnected","element","contains","findFormSubmitter","submitter","form","HTMLFormElement","dialogPolyfill","formSubmitter","root","getRootNode","maybeHandleSubmit","defaultPrevented","value","imagemapUseValue","dialog","formmethod","preventDefault","close","dialogPolyfillInfo","dialog_","replacedStyleTop_","openAsModal_","setAttribute","show","bind","showModal","addEventListener","returnValue","mo","MutationObserver","maybeHideModal","observe","attributes","attributeFilter","removed","cb","downgradeModal","timeout","delayModel","cand","substr","clearTimeout","setTimeout","forEach","name","Object","defineProperty","set","setOpen","get","backdrop_","createElement","className","backdropMouseEvent_","style","zIndex","top","removeChild","dm","removeDialog","removeAttribute","e","fake","insertBefore","firstChild","tabIndex","focus","redirectedEvent","initMouseEvent","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","stopPropagation","focus_","updateZIndex","dialogZ","backdropZ","Error","open","pushDialog","console","warn","needsCentering","reposition","nextSibling","opt_returnValue","closeEvent","scrollTop","documentElement","topValue","innerHeight","offsetHeight","Math","max","isInlinePositionSetByStylesheet","styleSheets","styleSheet","cssRules","j","rule","selectedNodes","selectorText","cssTop","getPropertyValue","cssBottom","computedStyle","bottom","forceRegisterDialog","HTMLDialogElement","registerDialog","DialogManager","pendingDialogStack","checkDOM","checkDOM_","overlay","forwardTab_","handleKey_","handleFocus_","zIndexLow_","zIndexHigh_","mo_","records","rec","c","removedNodes","concat","blockDocument","childList","subtree","unblockDocument","removeEventListener","disconnect","updateStacking","dpi","last","p","appendChild","containedByTopDialog_","candidate","composedPath","compareDocumentPosition","Node","DOCUMENT_POSITION_PRECEDING","keyCode","cancelEvent","clone","slice","indexOf","allowed","unshift","index","splice","testForm","method","methodDescriptor","getOwnPropertyDescriptor","realGet","call","realSet","v","path","shift","valid","offsetX","offsetY","nativeFormSubmit","submit","replacementFormSubmit"],"sourceRoot":""}